= asan

----
ASAN_OPTIONS=alloc_dealloc_mismatch=0
----

----
vscode âžœ /workspaces/andi75-gltron/build (gltron/dev/debug) $ /workspaces/andi75-gltron/build/gltron
found artpack: arcade_spots
found artpack: default
found artpack: biohazard
found artpack: classic
found artpack: metalTron
found level: tri-six.lua
found level: square.lua
found level: tri-three.lua
found level: ring.lua
found artpack: arcade_spots
found artpack: default
found artpack: biohazard
found artpack: classic
found artpack: metalTron
ignoring (0,0) initial window position - feature not implemented
MESA: error: ZINK: vkCreateInstance failed (VK_ERROR_INCOMPATIBLE_DRIVER)
glx: failed to create drisw screen
GL vendor: Mesa
GL renderer: llvmpipe (LLVM 17.0.6, 256 bits)
GL version: 4.5 (Compatibility Profile) Mesa 24.0.9-0ubuntu0.2
Bitdepth:
  Red: 8
  Green: 8
  Blue: 8
  Alpha: 8
[scripting audio] found track ' song_revenge_of_cats.mp3        '
buffer underrun!
buffer underrun!
[script] current menu is 'RootMenu', active is '1'
[script] calling action of 'GameMenu', type 1
Menu.current is 'GameMenu'
[script] current menu is 'GameMenu', active is '1'
[script] calling action of 'StartGame', type 7
libpng warning: iCCP: known incorrect sRGB profile
libpng warning: iCCP: known incorrect sRGB profile
libpng warning: iCCP: known incorrect sRGB profile
libpng warning: iCCP: known incorrect sRGB profile
libpng warning: iCCP: known incorrect sRGB profile
libpng warning: iCCP: known incorrect sRGB profile
libpng warning: iCCP: known incorrect sRGB profile
key 'D' (7) is not bound
key 'Return' (40) is not bound
underflow
overflow
overflow
underflow
underflow
underflow
underflow
underflow
underflow
underflow
underflow
underflow
underflow
underflow
underflow
underflow
underflow
overflow
overflow
overflow
overflow
overflow
overflow
overflow
overflow
key 'A' (4) is not bound
[script] current menu is 'RootMenu', active is '5'
[script] calling action of 'Quit', type 7
settings.antialias_lines = 1
settings.screenSaver = 0
settings.joy_threshold = 0.1
settings.show_speed = 1
settings.resolution = 3
settings.light_cycles = 1
settings.wall_buster_on = 1
settings.booster_on = 1
settings.line_spacing = 20
settings.use_stencil = 1
settings.camType = 1
settings.booster_min = 1
settings.wall_accel_on = 0
settings.znear = 0.5
settings.current_level = "square.lua"
settings.ai_opponents = 3
settings.show_impact = 1
settings.show_gl_logo = 1
settings.show_fps = 0
settings.shadow_projective_cycle_on_floor = 1
settings.booster_speed_increase = 1.2
settings.show_recognizer = 1
settings.clamp_cam_r_max = 45
settings.current_track = "song_revenge_of_cats.mp3"
settings.model_backwards = 0
settings.display_type = 0
settings.booster_speed_factor = 1.1
settings.playMusic = 1
settings.camIsLocked = 0
settings.show_wall_buster = 0
settings.fxVolume = 0.2
settings.show_console = 0
settings.reflection = -1
settings.map_scale = 1
settings.fast_finish = 1
settings.erase_crashed = 1
settings.clamp_cam_chi_min = 0.39269908175
settings.wireframe = 0
settings.wall_accel_max = 20
settings.keys = { }
settings.keys[1] = { }
settings.keys[1].glance_left = "Q"
settings.keys[1].glance_right = "W"
settings.keys[1].bust = "D"
settings.keys[1].right = "S"
settings.keys[1].left = "A"
settings.keys[1].boost = "E"

settings.keys[2] = { }
settings.keys[2].glance_left = "U"
settings.keys[2].glance_right = "I"
settings.keys[2].bust = "L"
settings.keys[2].right = "K"
settings.keys[2].left = "J"
settings.keys[2].boost = "O"

settings.keys[3] = { }
settings.keys[3].glance_left = "Delete"
settings.keys[3].glance_right = "End"
settings.keys[3].bust = "Down"
settings.keys[3].right = "Right"
settings.keys[3].left = "Left"
settings.keys[3].boost = "Up"

settings.keys[4] = { }
settings.keys[4].glance_left = "Keypad 7"
settings.keys[4].glance_right = "Keypad 8"
settings.keys[4].bust = "Keypad 6"
settings.keys[4].right = "Keypad 5"
settings.keys[4].left = "Keypad 4"
settings.keys[4].boost = "Keypad 9"


settings.shadow_projective_trails_on_floor = 1
settings.clamp_cam_r_min = 6
settings.Camera = { }
settings.Camera.Manual = { }
settings.Camera.Manual.interpolated_cam = 0
settings.Camera.Manual.interpolated_target = 0
settings.Camera.Manual.r = 17
settings.Camera.Manual.phi = -0.39269908175
settings.Camera.Manual.phi_offset = 0
settings.Camera.Manual.free_chi = 1
settings.Camera.Manual.chi = 0
settings.Camera.Manual.coupled = 0
settings.Camera.Manual.free_phi = 1
settings.Camera.Manual.free_r = 1

settings.Camera.Circling = { }
settings.Camera.Circling.interpolated_cam = 0
settings.Camera.Circling.interpolated_target = 0
settings.Camera.Circling.r = 17
settings.Camera.Circling.phi = -0.39269908175
settings.Camera.Circling.phi_offset = 0
settings.Camera.Circling.free_chi = 1
settings.Camera.Circling.chi = 0
settings.Camera.Circling.coupled = 0
settings.Camera.Circling.free_phi = 0
settings.Camera.Circling.free_r = 1

settings.Camera.Offset = { }
settings.Camera.Offset.interpolated_cam = 0
settings.Camera.Offset.interpolated_target = 0
settings.Camera.Offset.r = 17
settings.Camera.Offset.phi = -0.39269908175
settings.Camera.Offset.phi_offset = 0
settings.Camera.Offset.free_chi = 1
settings.Camera.Offset.chi = 1.0471975513333
settings.Camera.Offset.coupled = 0
settings.Camera.Offset.free_phi = 1
settings.Camera.Offset.free_r = 1

settings.Camera.CIRCLE_DIST = 17
settings.Camera.Follow = { }
settings.Camera.Follow.interpolated_cam = 1
settings.Camera.Follow.interpolated_target = 0
settings.Camera.Follow.r = 18
settings.Camera.Follow.phi = -0.39269908175
settings.Camera.Follow.phi_offset = 0
settings.Camera.Follow.free_chi = 1
settings.Camera.Follow.chi = 1.0471975513333
settings.Camera.Follow.coupled = 1
settings.Camera.Follow.free_phi = 1
settings.Camera.Follow.free_r = 1

settings.Camera.Cockpit = { }
settings.Camera.Cockpit.interpolated_cam = 0
settings.Camera.Cockpit.interpolated_target = 1
settings.Camera.Cockpit.r = 4
settings.Camera.Cockpit.phi = 3.141592654
settings.Camera.Cockpit.phi_offset = 0
settings.Camera.Cockpit.free_chi = 0
settings.Camera.Cockpit.chi = 0
settings.Camera.Cockpit.coupled = 1
settings.Camera.Cockpit.free_phi = 1
settings.Camera.Cockpit.free_r = 0


settings.cycle_sharp_edges = 0
settings.wall_accel_decrease = 0.8
settings.lod = 1
settings.mouse_invert_y = 0
settings.height = 720
settings.mouse_invert_x = 0
settings.show_ai_status = 0
settings.musicVolume = 0.5
settings.playEffects = 1
settings.loopMusic = 1
settings.arena_outlines = 0
settings.shadow_volumes_walls = 0
settings.shadow_projective_recognizer_on_floor = 1
settings.wall_accel_use = 1
settings.artpacks = { }

settings.clamp_cam_chi_max = 1.17809724525
settings.alpha_trails = 0
settings.wall_buster_use = 4.8
settings.fov = 90
settings.wall_buster_min = 2.4
settings.ai_level = 2
settings.mouse_warp = 0
settings.current_artpack = "classic"
settings.mipmap_filter = 3
settings.players = 1
settings.show_scores = 0
settings.bitdepth_32 = 1
settings.show_glow = 1
settings.softwareRendering = 0
settings.booster_speed_decrease = 0.8
settings.debug_output = 1
settings.width = 1280
settings.energy_increase = 0.4
settings.shadow_volumes_cycle = 1
settings.energy = 4.8
settings.show_2d = 1
settings.turn_cycle = 1
settings.windowMode = 1
settings.booster_use = 1.5
settings.speed = 8.5
save_completed = 1
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
buffer underrun!
[system] shutting down SDL now
[system] scheduling application exit
[lua] clean exit
=================================================================
==80094==ERROR: AddressSanitizer: alloc-dealloc-mismatch (operator new [] vs operator delete) on 0x7f41f3e8f800
    #0 0x7f422fef45e8 in operator delete(void*, unsigned long) ../../../../src/libsanitizer/asan/asan_new_delete.cpp:164
    #1 0x559001afe253 in Sound::SourceMusic::~SourceMusic() /workspaces/andi75-gltron/GLtron/nebu/audio/SourceMusic.cpp:35
    #2 0x559001afe373 in Sound::SourceMusic::~SourceMusic() /workspaces/andi75-gltron/GLtron/nebu/audio/SourceMusic.cpp:50
    #3 0x559001af96fa in Sound::System::~System() /workspaces/andi75-gltron/GLtron/nebu/audio/SoundSystem.cpp:26
    #4 0x559001a4b18d in Audio_Quit /workspaces/andi75-gltron/GLtron/audio/sound_glue.cpp:245
    #5 0x559001a48404 in Sound_shutdown /workspaces/andi75-gltron/GLtron/audio/sound.c:67
    #6 0x559001a6482e in exitSubsystems /workspaces/andi75-gltron/GLtron/game/init.c:38
    #7 0x559001b4a744 in main /workspaces/andi75-gltron/GLtron/gltron.c:57
    #8 0x7f422f2291c9 in __libc_start_call_main ../sysdeps/nptl/libc_start_call_main.h:58
    #9 0x7f422f22928a in __libc_start_main_impl ../csu/libc-start.c:360
    #10 0x559001a47f94 in _start (/workspaces/andi75-gltron/build/gltron+0x55f94) (BuildId: 8cbf7d74f5820941b6c05d49f7a4d92ab2660a36)

0x7f41f3e8f800 is located 0 bytes inside of 163840-byte region [0x7f41f3e8f800,0x7f41f3eb7800)
allocated by thread T0 here:
    #0 0x7f422fef36c8 in operator new[](unsigned long) ../../../../src/libsanitizer/asan/asan_new_delete.cpp:98
    #1 0x559001afe002 in Sound::SourceMusic::SourceMusic(Sound::System*) /workspaces/andi75-gltron/GLtron/nebu/audio/SourceMusic.cpp:16
    #2 0x559001a4b409 in Audio_LoadMusic /workspaces/andi75-gltron/GLtron/audio/sound_glue.cpp:270
    #3 0x559001a48423 in Sound_load /workspaces/andi75-gltron/GLtron/audio/sound.c:72
    #4 0x559001a4838b in Sound_reloadTrack /workspaces/andi75-gltron/GLtron/audio/sound.c:59
    #5 0x559001a48755 in Sound_setup /workspaces/andi75-gltron/GLtron/audio/sound.c:137
    #6 0x559001a64fe2 in initAudio /workspaces/andi75-gltron/GLtron/game/init.c:202
    #7 0x559001a649f1 in initSubsystems /workspaces/andi75-gltron/GLtron/game/init.c:73
    #8 0x559001b4a72b in main /workspaces/andi75-gltron/GLtron/gltron.c:55
    #9 0x7f422f2291c9 in __libc_start_call_main ../sysdeps/nptl/libc_start_call_main.h:58
    #10 0x7f422f22928a in __libc_start_main_impl ../csu/libc-start.c:360
    #11 0x559001a47f94 in _start (/workspaces/andi75-gltron/build/gltron+0x55f94) (BuildId: 8cbf7d74f5820941b6c05d49f7a4d92ab2660a36)

SUMMARY: AddressSanitizer: alloc-dealloc-mismatch ../../../../src/libsanitizer/asan/asan_new_delete.cpp:164 in operator delete(void*, unsigned long)
==80094==HINT: if you don't care about these errors you may set ASAN_OPTIONS=alloc_dealloc_mismatch=0
==80094==ABORTING
----
